#:kivy 2.3.1
WindowManager:
    MainScreen:
    Dashboard:
    Screen1:
    Screen2:
    Screen3:

#------------------------------------SCREEN 1 MAIN PAGE --------------------------------------
<MainScreen@Screen>:
    name: 'Mainwindow'
    FloatLayout:
        Image:
            source: 'images/SZA.png'
            allow_stretch: True
            keep_ratio: False
            size_hint: None, None
            size: 800,1150
            pos_hint: {'right':1, 'y': -0.15}

        Image:
            source: 'images/pinkbg.png'
            allow_stretch: True
            keep_ratio: False
            size_hint: None, None
            size: 1120,1000
            pos_hint: {'x':0, 'y': 0}

        Image:
            source: 'images/dashboard.png'
            allow_stretch: True
            keep_ratio: False
            size_hint: None, None
            size: 700,63
            pos_hint: {'x':0.07, 'y': 0.89}

        Widget:       #for opacity of bg image
            size_hint: 1, 1
            pos_hint: {'x': 0, 'y': 0}
            canvas.before:
                Color:
                    rgba: 0.980, 0.973, 0.965, 0
                Rectangle:
                    pos: self.pos
                    size: self.size

        RelativeLayout:
            size_hint: None,None
            size: self.size
            pos_hint: {'x': 0, 'y': 0.64}

            canvas.before:
                #TEXT INPUT
                Color:
                    rgba: 0, 0, 0, 0.2
                RoundedRectangle:
                    pos: 152 + 2, -173 - 2
                    size: 400, 45
                    radius: [2]

                #LOGIN
                Color:
                    rgba: 0, 0, 0, 0.2
                RoundedRectangle:
                    pos: 152 + 2, -103 - 2
                    size: 220, 60
                    radius: [3]

                #SUBMIT
                Color:
                    rgba: 0, 0, 0, 0.2
                RoundedRectangle:
                    pos: 152 + 2, -263 - 2
                    size: 220, 60
                    radius: [3]

            Label:
                markup: True     #for enablng colors for specific post
                text: "[color=#6F2A2A]SPOTIFY[/color]  APP\nRECOMMENDATION"
                font_name: "fonts/static/Inter_24pt-ExtraBold.ttf"
                font_size: "33sp"
                x: 150
                y: 50
                size_hint: None, None
                size: self.texture_size
                color: 0, 0, 0, 1
        
            Label:
                text: "Discover music you'll love"
                font_name: "fonts/static/Inter_24pt-Medium.ttf"
                font_size: "18sp"
                x: 150
                y: 10
                size_hint: None, None
                size: self.texture_size
                color: 0, 0, 0, 1

            BasicButtonHover:
                text: "Home"
                font_name: "fonts/static/Inter_24pt-Medium.ttf"
                font_size: "19sp"
                size_hint: None, None
                x: 200
                y: 260
                size: self.texture_size
                color: 0,0,0,1
                background_color: 0, 0, 0, 0
                background_normal: ''

            BasicButtonHover:
                text: "About us"
                font_name: "fonts/static/Inter_24pt-Medium.ttf"
                font_size: "19sp"
                size_hint: None, None
                x: 400
                y: 260
                size: self.texture_size
                color: 0,0,0,1
                background_color: 0, 0, 0, 0
                background_normal: ''

            BasicButtonHover:
                text: "Contact"
                font_name: "fonts/static/Inter_24pt-Medium.ttf"
                font_size: "19sp"
                size_hint: None, None
                x: 650
                y: 260
                size: self.texture_size
                color: 0,0,0,1
                background_color: 0, 0, 0, 0
                background_normal: ''

            TextInput:
                id: redirect_input
                font_name: "fonts/static/Inter_18pt-Regular.ttf"
                hint_text: "Paste redirect url here"
                size_hint: None, None
                size: 400, 45
                x: 150
                y: -170
                font_size: 18
                multiline: True
                foreground_color: 0, 0, 0, 1        
                cursor_color: 0, 0, 0, 1             
                background_color: 1, 1, 1, 1         
                background_normal: ''
                background_active: ''
                padding: [10, 10, 10, 10]

            HoverButton:
                text: "LOGIN"
                font_name: "fonts/static/Inter_18pt-Bold.ttf"
                size_hint: None, None
                font_size: 19
                x: 150
                y: -100
                size: 220, 60
                background_color: 0.384, 0.141, 0.353, 1
                on_release: app.spotify_login()

            HoverButton:
                text: "SUBMIT"
                size_hint: None, None
                font_size: 21
                x: 150
                y: -260
                font_name: "fonts/static/Inter_18pt-Bold.ttf"
                size: 220, 60
                background_color: 0.384, 0.141, 0.353, 1
                on_release:
                    app.check_redirect()

#--------------------------------SCREEN 2 DASHBOARD--------------------------------------
<Dashboard>:
    name: "dashboard"

    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.97, 0.945, 0.89, 1
            Rectangle: 
                pos: self.pos
                size: self.size

        Image:
            source: 'images\Rectangle 23 (1).png'
            allow_stretch: True
            keep_ratio: False
            size_hint: 0.75,1
            width: 280
            pos_hint: {'right':1, 'center_y': 0.5}

        Label:
            id: vibe_label 
            text: ""
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            font_size: 20
            x: 300
            y: 500
            size_hint: None, None
            size: self.texture_size
            color: 0, 0, 0, 1

        Label:
            id: mood_list 
            text: ""
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            font_size: 20
            x: 300
            y: 350
            size_hint: None, None
            size: self.texture_size
            color: 0, 0, 0, 1

        #------------------------options images------------------------
        mainoptions:
            source: 'images/Group 7.png'
            size_hint: None,None
            size: 262, 372
            pos_hint: {'x':0.15, 'y': 0.3}
            on_release: app.root.current = 'screen1'

        mainoptions:
            source: 'images/Group 8.png'
            size_hint: None,None
            size: 262, 372
            pos_hint: {'x':0.35, 'y': 0.3}
            on_release: app.root.current = 'screen2'

        mainoptions:
            source: 'images/Group 25.png'
            size_hint: None,None
            size: 262, 372
            pos_hint: {'x':0.55, 'y': 0.3}
            on_release: app.root.current = 'screen3'

        BasicImageHover:
            source: 'images/Group 28.png'
            size_hint: None,None
            size: 170, 44
            pos_hint: {'x':0.85, 'y': 0.85}
            on_release: app.root.current = 'Mainwindow'

        RelativeLayout:
            size_hint: None,None
            size: self.size
            pos_hint: {'x': 0.3, 'y': 0.6}

            Label:
                text: 'Dashboard'
                font_name: "fonts/static/Inter_24pt-Medium.ttf"
                font_size: 35
                x: -490
                y: 265
                size_hint: None, None
                size: self.texture_size
                color: 0, 0, 0, 1

            Label:
                text: '__________________________________________________________________________________________________________________________________________________'
                color: 1,1,1,1
                font_size: 21
                x: -490
                y: 240
                size_hint: None, None
                size: self.texture_size
                color: 0, 0, 0, 1

            Label:
                text: "Hello, Adan"
                font_name: "fonts/static/Inter_24pt-Medium.ttf"
                font_size: 32
                x: 220
                y: 180
                size_hint: None, None
                size: self.texture_size
                color: 0, 0, 0, 1

# #--------------------SIDE DASHBOARD-------------------------------
#     FloatLayout:
#         id: sidebar
#         orientation: 'vertical'
#         size_hint_x: None
#         width: 280
#         canvas.before:
#             Color:
#                 rgba: 0.2235, 0.0165, 0.12, 1
#             Rectangle:
#                 pos: self.pos
#                 size: self.size

#         Button:
#             text: 'Dashboard'
#             font_name: "fonts/static/Inter_24pt-Medium.ttf"
#             font_size: 25
#             pos_hint: {'x': 0.3, 'y': 0.845}
#             size_hint: None, None
#             size: self.texture_size
#             background_color: 0.2235, 0.0165, 0.12, 1
#             background_normal: ""
#             color: 1, 1, 1, 1
#             on_release:
#                 app.root.current = 'Dashboard'

#         Button:
#             text: 'Home'
#             font_name: "fonts/static/Inter_24pt-Medium.ttf"
#             font_size: 25
#             size_hint: None, None
#             pos_hint: {'x': 0.3, 'y': 0.75}
#             background_color: 0.2235, 0.0165, 0.12, 1
#             background_normal: ""
#             color: 1,1,1,1
#             size: self.texture_size
#             # on_release: 
#             #     app.root.current = 

#         Button:
#             text: 'Logout'
#             font_name: "fonts/static/Inter_24pt-Medium.ttf"
#             font_size: 25
#             pos_hint: {'x': 0.3, 'y': 0.65} #1700, 675
#             size_hint: None, None
#             background_color: 0.2235, 0.0165, 0.12, 1
#             background_normal: ""
#             size: self.texture_size
#             color: 1, 1, 1, 1
#             # on_release:
#             #     app.root.current = 'MainScreen'

#         Image:
#             source: 'images/apps.png'
#             allow_stretch: False
#             keep_ratio: False
#             size_hint: 0.7,0.7
#             pos_hint: {'x':-0.19, 'y': 0.512}
#             color: 1,1,1, 1

#         Image:
#             source: 'images/house-blank.png'
#             allow_stretch: False
#             keep_ratio: False
#             size_hint: 0.7,0.7
#             pos_hint: {'x':-0.19, 'y': 0.418}
#             color: 1,1,1, 1

#         Image:
#             source: 'images/user-logout.png'
#             allow_stretch: False
#             keep_ratio: False
#             size_hint: 0.7,0.7
#             pos_hint: {'x':-0.19, 'y': 0.32}
#             color: 1,1,1, 1

<TrackCard>:
    size_hint: None, None
    size: 330, 60
    orientation: 'horizontal'
    spacing: 10
    padding: [15, 0, 15, 0]
    canvas.before:
        Color:
            rgba:  0.3608, 0.2039, 0.2039, 1
        RoundedRectangle: 
            pos: self.pos
            size: self.size
            radius: [20]

    Label:
        id: track_label
        text: ""
        font_name: "fonts/static/Inter_24pt-Medium.ttf"
        font_size: 20
        halign: 'left'
        valign: 'middle'
        text_size: self.size
        size_hint_x: 1
        height: self.texture_size[1]
        color: 1,1,1,1
        
    BasicButtonHover:
        id: spotify_button
        size_hint: None, None
        size: 70, 70
        background_normal: 'images/Spotify 1.png'
        background_down: 'images/Spotify 1.png'
        background_color: 1, 1, 1, 1

<Screen1>:
    name: 'screen1'

    #--------------------SIDE DASHBOARD-------------------------------        
    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.97, 0.945, 0.89, 1
            Rectangle: 
                pos: self.pos
                size: self.size

        ScrollView:
            size_hint: 1, 1
            pos_hint: {"x": 0.02, "y": -0.62}

            GridLayout:
                id: tracks_container
                cols: 4
                spacing: 40
                padding: 20
                size_hint_y: None
                row_default_height: 60
                row_force_default: True
                height: self.minimum_height

        FloatLayout:
            size_hint_y: None
            height: dp(230)

            ScrollView:
                id: artist_scroll
                effect_cls: 'ScrollEffect'
                pos_hint: {'x': 0, 'y': 0}
                size_hint: 0.9, 1
                do_scroll_x: True
                do_Scroll_y: False
                bar_width: 0

                BoxLayout:
                    size_hint_x: None
                    width: 4000
                    height: 243
                    orientation: 'horizontal'

                    Image: 
                        id: artist_strip
                        source: 'images/artist_strip.png'
                        allow_stretch: True
                        keep_ratio: True
                        size_hint: None,None
                        size: 4082,243
                        pos_hint: {'x': 0, 'y': 0.3}

        BasicButtonHover:
            id: artist_scroll_r
            text: '>'
            font_size: 50
            size_hint: None, None
            pos_hint: {'x': 0.82, 'y': 0.12}
            background_color: 0, 0, 0, 0
            background_normal: ''
            color: 0, 0, 0, 1
            on_release: app.scroll_artist_right()

        BasicButtonHover:
            id: artist_scroll_l
            text: '<'
            font_size: 50
            size_hint: None, None
            pos_hint: {'x': 0.0001, 'y': 0.12}
            background_color: 0, 0, 0, 0
            background_normal: ''
            color: 0, 0, 0, 1
            on_release: app.scroll_artist_left()

        Image:
            source: 'images/border.png'
            allow_stretch: True
            keep_ratio: False
            size: 2010, 56
            size_hint: None,None
            pos_hint: {'x':0, 'y': 0.465}

        Image:
            source: 'images/halfBox.png'
            allow_stretch: True
            keep_ratio: False
            size: 1463, 466
            size_hint: 1,None
            pos_hint: {'top':1}

        Image:
            source: 'images/Group 36.png'
            allow_stretch: True
            keep_ratio: False
            size: 1600, 56
            size_hint: None,None
            pos_hint: {'x':0.04, 'y': 0.9}

        BasicButtonHover:
            text: 'Home'
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            font_size: 25
            pos_hint: {'x': 0.35, 'y': 0.915}
            size_hint: None, None
            size: self.texture_size
            background_color: 0, 0, 0, 0
            background_normal: ''
            color: 0, 0, 0, 1
            on_release: app.root.current = 'Dashboard'

        BasicButtonHover:
            text: 'Logout'
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            font_size: 25
            pos_hint: {'x': 0.5, 'y': 0.915} 
            size_hint: None, None
            background_color: 0, 0, 0, 0
            background_normal: ""
            size: self.texture_size
            color: 0, 0, 0, 1
            # on_release:
            #     app.root.current = 'MainScreen'

        Image:
            source: 'images/house-blank.png'
            allow_stretch: False
            keep_ratio: False
            size_hint: 0.7,0.7
            pos_hint: {'x':0.3, 'y': 0.915}
            color: 0,0,0, 1

        Image:
            source: 'images/user-logout.png'
            allow_stretch: False
            keep_ratio: False
            size_hint: 0.7,0.7
            pos_hint: {'x':0.5, 'y': 0.915}
            color: 1,1,1, 1

        Label:
            markup: True
            text: "What's your vibe today? We've got the music for it."
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            font_size: 27
            x: 80
            y: 810
            size_hint: None, None
            size: self.texture_size
            color: 1, 1, 1, 1

        Label:
            id: mood_select_label 
            text: ""
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            font_size: 27
            x: 60
            y: 405
            size_hint: None, None
            size: self.texture_size
            color: 0, 0, 0, 1

        Label:
            id: track_text 
            text: ""
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            font_size: 24
            x: 60
            y: 340
            size_hint: None, None
            size: self.texture_size
            color: 0, 0, 0, 1

        Label:
            id: random_msg 
            font_name: "fonts/static/Inter_24pt-Medium.ttf"
            text: ""
            font_size: 25
            x: -50
            y: -65
            color: 0.408, 0.235, 0.235, 1
        
        mainoptions:
            source: 'images/Group 9.png'
            size_hint: None,None
            size: 225, 42
            x: 140
            y: 730
            mood_name: "Happy"
            on_release: app.enterMood(self.mood_name)

        mainoptions:
            source: 'images/Group 10.png'
            size_hint: None,None
            size: 225, 42
            x: 420
            y: 730
            mood_name: "Sad"
            on_release: app.enterMood(self.mood_name)

        mainoptions:
            source: 'images/Group 11.png'
            size_hint: None,None
            size: 225, 42
            x: 720
            y: 730
            mood_name: "Chill"
            on_release: app.enterMood(self.mood_name)

        mainoptions:
            source: 'images/Group 12.png'
            size_hint: None,None
            size: 225, 42
            x: 80
            y: 650
            mood_name: "Peaceful"
            on_release: app.enterMood(self.mood_name)

        mainoptions:
            source: 'images/Group 13.png'
            size_hint: None,None
            size: 225, 42
            x: 370
            y: 650
            mood_name: "Energetic"
            on_release: app.enterMood(self.mood_name)

        mainoptions:
            source: 'images/Group 14.png'
            size_hint: None,None
            size: 225, 42
            x: 660
            y: 650
            mood_name: "Focused"
            on_release: app.enterMood(self.mood_name)

        mainoptions:
            source: 'images/Group 15.png'
            size_hint: None,None
            size: 225, 42
            x: 220
            y: 570
            mood_name: "Angry"
            on_release: app.enterMood(self.mood_name)

        mainoptions:
            source: 'images/Group 16.png'
            size_hint: None,None
            size: 225, 42
            x: 520
            y: 570
            mood_name: "Motivational"
            on_release: app.enterMood(self.mood_name)

        BasicImageHover:
            source: 'images/Group 27.png'
            size_hint: None,None
            size: 143, 44
            pos_hint: {'x':0.7, 'y': 0.8}
            on_release: app.root.current = 'dashboard'

<Screen2>:
    name: 'screen2'

    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.97, 0.945, 0.89, 1
            Rectangle: 
                pos: self.pos
                size: self.size

        HoverButton:
            text: "BACK"
            font_name: "fonts/static/Inter_18pt-Bold.ttf"
            size_hint: None, None
            font_size: 19
            x: 80
            y: 7
            size: 220, 60
            background_color: 0.529, 0.012, 0.361, 1
            on_release: app.root.current = 'dashboard'
<Screen3>:
    name: 'screen3'

    FloatLayout:
        canvas.before:
            Color:
                rgba: 0.97, 0.945, 0.89, 1
            Rectangle: 
                pos: self.pos
                size: self.size

        HoverButton:
            text: "BACK"
            font_name: "fonts/static/Inter_18pt-Bold.ttf"
            size_hint: None, None
            font_size: 19
            x: 80
            y: 7
            size: 220, 60
            background_color: 0.529, 0.012, 0.361, 1
            on_release: app.root.current = 'dashboard'